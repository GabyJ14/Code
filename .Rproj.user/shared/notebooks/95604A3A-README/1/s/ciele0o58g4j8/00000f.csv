"0","#the top 5 countries from where Ghana imports goods over the past 10 years."
"0","X2014_df <- ghana_import_sources %>% select(Exporters,X2014) %>% arrange(-X2014) %>% head(6) "
"0","X2015_df <- ghana_import_sources %>% select(Exporters,X2015) %>% arrange(-X2015) %>% head(6) "
"0","X2016_df <- ghana_import_sources %>% select(Exporters,X2016) %>% arrange(-X2016) %>% head(6) "
"0","X2017_df <- ghana_import_sources %>% select(Exporters,X2017) %>% arrange(-X2017) %>% head(6) "
"0","X2018_df <- ghana_import_sources %>% select(Exporters,X2018) %>% arrange(-X2018) %>% head(6) "
"0","X2019_df <- ghana_import_sources %>% select(Exporters,X2019) %>% arrange(-X2019) %>% head(6) "
"0","X2020_df <- ghana_import_sources %>% select(Exporters,X2020) %>% arrange(-X2020) %>% head(6) "
"0","X2021_df <- ghana_import_sources %>% select(Exporters,X2021) %>% arrange(-X2021) %>% head(6) "
"0","X2022_df <- ghana_import_sources %>% select(Exporters,X2022) %>% arrange(-X2022) %>% head(6) "
"0","X2023_df <- ghana_import_sources %>% select(Exporters,X2023) %>% arrange(-X2023) %>% head(6) "
"0",""
"0","#Remove the World row"
"0","X2014_df <- X2014_df[-1,]"
"0","X2015_df <- X2015_df[-1,]"
"0","X2016_df <- X2016_df[-1,]"
"0","X2017_df <- X2017_df[-1,]"
"0","X2018_df <- X2018_df[-1,]"
"0","X2019_df <- X2019_df[-1,]"
"0","X2020_df <- X2020_df[-1,]"
"0","X2021_df <- X2021_df[-1,]"
"0","X2022_df <- X2022_df[-1,]"
"0","X2023_df <- X2023_df[-1,]"
"0",""
"0","#here I'm also adding calculating a Share variable that shows the share of the specific country in the top 5. Note, this is not the share of country in the world, but rather the share of the top 5 countries so that the bar sums to 100."
"0","X2014_df <- X2014_df %>% mutate(Year = ""2014"") %>% mutate(Share = (X2014/(sum(X2014))*100)) "
"0","X2015_df <- X2015_df %>% mutate(Year = ""2015"") %>% mutate(Share = (X2015/(sum(X2015))*100))"
"0","X2016_df <- X2016_df %>% mutate(Year = ""2016"") %>% mutate(Share = (X2016/(sum(X2016))*100))"
"0","X2017_df <- X2017_df %>% mutate(Year = ""2017"") %>% mutate(Share = (X2017/(sum(X2017))*100))"
"0","X2018_df <- X2018_df %>% mutate(Year = ""2018"") %>% mutate(Share = (X2018/(sum(X2018))*100))"
"0","X2019_df <- X2019_df %>% mutate(Year = ""2019"") %>% mutate(Share = (X2019/(sum(X2019))*100))"
"0","X2020_df <- X2020_df %>% mutate(Year = ""2020"") %>% mutate(Share = (X2020/(sum(X2020))*100))"
"0","X2021_df <- X2021_df %>% mutate(Year = ""2021"") %>% mutate(Share = (X2021/(sum(X2021))*100))"
"0","X2022_df <- X2022_df %>% mutate(Year = ""2022"") %>% mutate(Share = (X2022/(sum(X2022))*100))"
"0","X2023_df <- X2023_df %>% mutate(Year = ""2023"") %>% mutate(Share = (X2023/(sum(X2023))*100))"
"0",""
"0","combined_df <- bind_rows(X2014_df, X2015_df, X2016_df, X2017_df, X2018_df, X2019_df, X2021_df, X2022_df, X2023_df)"
"0",""
"0",""
"0","plot <- ggplot(combined_df, aes(x = Year, y = Share, fill = Exporters)) +"
"0","        geom_bar(position=""stack"", stat = ""identity"") +"
"0","        theme_classic() +"
"0","    scale_fill_brewer(palette=""Paired"") +"
"0","    theme("
"0","    legend.text = element_text(size = 6,vjust = 0.1), "
"0","    legend.position = ""bottom"","
"0","    legend.key.width = unit(0.50, ""cm""),"
"0","    legend.key.size = unit(0.4, ""cm""))"
"0"," #+guides(color = guide_legend(ncol  = 2, nrow = 5))"
"0",""
"0","    plot"
